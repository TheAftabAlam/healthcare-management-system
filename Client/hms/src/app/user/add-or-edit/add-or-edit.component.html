<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="form-container">
    <!-- First Name -->
    <mat-form-field appearance="fill">
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName" placeholder="Enter your first name" />
    </mat-form-field>

    <!-- Last Name -->
    <mat-form-field appearance="fill">
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName" placeholder="Enter your last name" />
    </mat-form-field>

    <!-- Email (Optional) -->
    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" placeholder="Enter your email" />
    </mat-form-field>

    <!-- Phone Number -->
    <mat-form-field appearance="fill">
      <mat-label>Phone Number</mat-label>
      <input matInput formControlName="phoneNumber" placeholder="Enter your phone number" />
    </mat-form-field>

    <!-- Date of Birth (Optional) -->
    <mat-form-field appearance="fill">
      <mat-label>Date of Birth</mat-label>
      <input matInput formControlName="dateOfBirth" type="date" />
    </mat-form-field>

    <!-- Emergency Contact (Optional) -->
    <mat-form-field appearance="fill">
      <mat-label>Emergency Contact</mat-label>
      <input matInput formControlName="emergencyContact" placeholder="Enter emergency contact" />
    </mat-form-field>

    <!-- Flags (Aligned in one line) -->
    <div class="flags-container">
      <mat-checkbox formControlName="patientFlag">Patient</mat-checkbox>
      <mat-checkbox formControlName="doctorFlag">Doctor</mat-checkbox>
      <mat-checkbox formControlName="staffFlag">Staff</mat-checkbox>
    </div>

    <!-- Address Fields -->
    <div formArrayName="addresses" class="addresses-container">
      <div *ngFor="let address of addressControls; let i = index" [formGroupName]="i" class="address-group">
        <h3>Address {{ i + 1 }}</h3>

        <mat-form-field appearance="fill">
          <mat-label>Street Address</mat-label>
          <input matInput formControlName="streetAddress" placeholder="Enter street address" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>City</mat-label>
          <input matInput formControlName="city" placeholder="Enter city" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>State</mat-label>
          <input matInput formControlName="state" placeholder="Enter state" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Postal Code</mat-label>
          <input matInput formControlName="postalCode" placeholder="Enter postal code" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Country</mat-label>
          <input matInput formControlName="country" placeholder="Enter country" />
        </mat-form-field>

        <button mat-button color="warn" (click)="removeAddress(i)">Remove Address</button>
      </div>

      <button mat-button color="primary" (click)="addAddress()">Add Address</button>
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
      <button mat-raised-button color="primary" type="submit">
        {{ isEditMode ? 'Update' : 'Add' }}
      </button>
      <button mat-raised-button color="accent" (click)="onCancel()">Cancel</button>
    </div>
  </div>
</form>
